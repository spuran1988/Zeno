<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Zeno</title>

  <!-- Tailwind Play CDN (no build step) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- React 18 + ReactDOM (UMD) -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

  <!-- Babel Standalone to run JSX directly in the browser -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="bg-white text-gray-900">
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useMemo } = React;

    function ZenoApp() {
      const [route, setRoute] = useState("login");
      const [theme, setTheme] = useState("light");
      const [projectName, setProjectName] = useState("Zeno");
      const [watchlist, setWatchlist] = useState([
        { symbol: "SPY", name: "S&P 500 ETF", price: 556.21, change: +0.42 },
        { symbol: "QQQ", name: "Nasdaq 100 ETF", price: 483.09, change: -0.15 },
        { symbol: "BTC", name: "Bitcoin", price: 61234, change: +1.8 },
        { symbol: "ETH", name: "Ethereum", price: 2725, change: -0.7 },
      ]);
      const [alerts, setAlerts] = useState([
        { id: 1, text: "BTC drawdown risk > 12% in 2 weeks — propose hedge (−$) + DCA (+$)", severity: "high" },
        { id: 2, text: "Rebalance drift 6.2% vs target — 1-tap fix available", severity: "med" },
        { id: 3, text: "Tax-loss opportunity: QQQ lot from 2025-08-05 (−$420)", severity: "low" },
      ]);

      const nav = [
        { id: "dashboard", label: "Dashboard", icon: "📊" },
        { id: "portfolio", label: "Portfolio", icon: "💼" },
        { id: "sim", label: "Simulations", icon: "🧠" },
        { id: "taxret", label: "Tax & Retirement", icon: "🧾" },
        { id: "alerts", label: "Alerts", icon: "⚡" },
        { id: "settings", label: "Settings", icon: "⚙️" },
      ];

      const container = "mx-auto max-w-7xl px-4 sm:px-6 lg:px-8";
      const card = "rounded-2xl border border-gray-200 shadow-sm p-4 bg-white hover:shadow transition";
      const chip = (txt) => (
        <span className="rounded-full border px-2 py-0.5 text-xs font-medium">{txt}</span>
      );
      const switchTheme = () => setTheme((t) => (t === "light" ? "dark" : "light"));
      const fmt = (n) => (typeof n === "number" ? n.toLocaleString() : n);

      const Header = () => (
        <header className="sticky top-0 z-30 backdrop-blur supports-[backdrop-filter]:bg-white/60 bg-white border-b">
          <div className={`${container} flex items-center gap-3 py-3`}>
            <button onClick={() => setRoute("dashboard")} className="text-xl md:text-2xl font-black tracking-tight">
              <span className="inline-block mr-2 text-rose-700">Z</span>eno
            </button>
            <div className="hidden md:flex items-center gap-2 text-sm text-gray-500">
              {chip("Personal AI Advisor")}
              {chip("Hybrid: passive + active")}
              {chip("Proactive alerts")}
            </div>
            <div className="ml-auto flex items-center gap-2">
              <button onClick={switchTheme} className="rounded-xl border px-3 py-1 text-sm hover:bg-gray-50" title="Toggle theme">
                {theme === "light" ? "🌞 Light" : "🌙 Dark"}
              </button>
              <button onClick={() => setRoute("settings")} className="rounded-xl border px-3 py-1 text-sm hover:bg-gray-50">
                Settings
              </button>
            </div>
          </div>
        </header>
      );

      const Sidebar = () => (
        <aside className="w-full md:w-64 border-r bg-gray-50/60 p-3 md:p-4">
          <div className="space-y-1">
            {nav.map((n) => (
              <button
                key={n.id}
                onClick={() => setRoute(n.id)}
                className={`w-full flex items-center gap-2 rounded-xl px-3 py-2 text-left hover:bg-white border ${
                  route === n.id ? "bg-white border-rose-200" : "border-transparent"
                }`}
              >
                <span className="text-lg" aria-hidden>{n.icon}</span>
                <span className="font-medium">{n.label}</span>
              </button>
            ))}
          </div>
          <div className="mt-5">
            <button
              onClick={() => setRoute("sim")}
              className="w-full rounded-xl bg-rose-600 text-white py-2.5 font-semibold shadow hover:bg-rose-700"
            >
              Proceed — Run Scenario
            </button>
          </div>
        </aside>
      );

      const Kpi = ({ label, value, sub }) => (
        <div className={card}>
          <div className="text-sm text-gray-500">{label}</div>
          <div className="text-2xl font-bold">{value}</div>
          {sub && <div className="text-xs text-gray-400 mt-1">{sub}</div>}
        </div>
      );

      const WatchRow = ({ row, i }) => (
        <div
          className="grid grid-cols-5 items-center gap-2 rounded-xl px-3 py-2 hover:bg-gray-50"
          role="button"
          onClick={function() { alert("Open " + row.symbol + " details"); }}
        >
          <div className="font-mono">{row.symbol}</div>
          <div className="truncate text-gray-600">{row.name}</div>
          <div className="text-right font-medium">{fmt(row.price)}</div>
          <div className={\`text-right \${row.change >= 0 ? "text-green-600" : "text-rose-600"}\`}>
            {row.change > 0 ? "+" : ""}{row.change}%
          </div>
          <div className="text-right">
            <button className="rounded-lg border px-2 py-1 text-xs hover:bg-white">Trade</button>
          </div>
        </div>
      );

      const Login = () => (
        <div className="min-h-screen grid place-items-center bg-gradient-to-b from-rose-50 to-white">
          <div className="w-full max-w-md rounded-3xl border bg-white p-6 shadow-xl">
            <div className="text-center mb-4">
              <div className="text-3xl font-black tracking-tight">
                Welcome to <span className="text-rose-700">Z</span>eno
              </div>
              <div className="text-gray-500 text-sm">Personal AI Investment Advisor</div>
            </div>
            <label className="block text-sm font-medium">Email</label>
            <input className="mt-1 w-full rounded-xl border px-3 py-2" placeholder="you@finance.com" />
            <label className="block text-sm font-medium mt-3">Password</label>
            <input className="mt-1 w-full rounded-xl border px-3 py-2" type="password" placeholder="••••••••" />
            <button
              onClick={() => setRoute("dashboard")}
              className="mt-5 w-full rounded-xl bg-rose-600 text-white py-2.5 font-semibold shadow hover:bg-rose-700"
            >
              Sign in
            </button>
            <div className="mt-3 text-center">
              <button onClick={() => alert("SSO coming soon")} className="text-sm text-rose-700 hover:underline">
                Sign in with SSO
              </button>
            </div>
          </div>
        </div>
      );

      const Dashboard = () => (
        <div className="min-h-[calc(100vh-64px)]">
          <div className={\`\${container} grid grid-cols-1 md:grid-cols-[16rem_1fr] gap-6 py-6\`}>
            <Sidebar />
            <main className="space-y-6">
              <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                <Kpi label="Total Balance" value="$124,920" sub="+7.4% YTD" />
                <Kpi label="Cash Available" value="$8,400" sub="Sweep enabled" />
                <Kpi label="Risk Score" value="Moderate (58)" sub="Hybrid core + satellites" />
                <Kpi label="Tax Savings YTD" value="$1,240" sub="Loss harvesting" />
              </div>

              <section className={card}>
                <div className="flex items-center justify-between">
                  <h3 className="text-lg font-semibold">Smart Alerts</h3>
                  <button onClick={() => setRoute("alerts")} className="text-sm rounded-lg border px-3 py-1 hover:bg-gray-50">
                    View all
                  </button>
                </div>
                <ul className="mt-3 divide-y">
                  {alerts.map((a) => (
                    <li key={a.id} className="py-2 flex items-start gap-2">
                      <span>{a.severity === "high" ? "🔴" : a.severity === "med" ? "🟠" : "🟢"}</span>
                      <span className="text-sm text-gray-700">{a.text}</span>
                      <div className="ml-auto flex gap-2">
                        <button onClick={() => alert("Simulating hedge…")} className="rounded-lg border px-2 py-1 text-xs hover:bg-white">
                          Simulate
                        </button>
                        <button onClick={() => alert("One-tap rebalanced (demo)")} className="rounded-lg border px-2 py-1 text-xs hover:bg-white">
                          Proceed
                        </button>
                      </div>
                    </li>
                  ))}
                </ul>
              </section>

              <section className={card}>
                <div className="flex items-center justify-between">
                  <h3 className="text-lg font-semibold">Watchlist</h3>
                  <button
                    className="text-sm rounded-lg border px-3 py-1 hover:bg-gray-50"
                    onClick={() => {
                      const symbol = prompt("Add symbol (e.g., AAPL)");
                      if (!symbol) return;
                      setWatchlist((w) => [...w, { symbol: symbol.toUpperCase(), name: "Custom", price: 0, change: 0 }]);
                    }}
                  >
                    + Add
                  </button>
                </div>
                <div className="mt-2 grid grid-cols-1">
                  <div className="grid grid-cols-5 text-xs text-gray-400 px-3 py-1">
                    <div>Symbol</div>
                    <div>Name</div>
                    <div className="text-right">Price</div>
                    <div className="text-right">Change</div>
                    <div className="text-right">Action</div>
                  </div>
                  <div className="divide-y">
                    {watchlist.map((r, i) => <WatchRow key={r.symbol + i} row={r} i={i} />)}
                  </div>
                </div>
              </section>
            </main>
          </div>
        </div>
      );

      const Portfolio = () => (
        <div className={\`\${container} py-6 grid grid-cols-1 md:grid-cols-[16rem_1fr] gap-6\`}>
          <Sidebar />
          <main className="space-y-4">
            <div className={card}>
              <h3 className="text-lg font-semibold">Allocation</h3>
              <p className="text-sm text-gray-600 mt-1">Core passive ETFs with active satellites. Target vs. actual drift shown below.</p>
              <div className="grid grid-cols-2 md:grid-cols-4 gap-2 mt-3 text-sm">
                <div className="rounded-xl border p-3"><div className="font-medium">US Equity</div><div>40% → 43%</div></div>
                <div className="rounded-xl border p-3"><div className="font-medium">Intl Equity</div><div>20% → 18%</div></div>
                <div className="rounded-xl border p-3"><div className="font-medium">Bonds</div><div>25% → 24%</div></div>
                <div className="rounded-xl border p-3"><div className="font-medium">Crypto</div><div>5% → 7%</div></div>
              </div>
              <div className="mt-3 flex gap-2">
                <button className="rounded-lg border px-3 py-1 text-sm" onClick={() => alert("Rebalance simulated")}>Simulate Rebalance</button>
                <button className="rounded-lg border px-3 py-1 text-sm" onClick={() => alert("Rebalance executed (demo)")}>Proceed</button>
              </div>
            </div>
            <div className={card}>
              <h3 className="text-lg font-semibold">Holdings</h3>
              <ul className="mt-2 text-sm text-gray-700 space-y-1">
                <li>VTI — 28% — $34,920</li>
                <li>VXUS — 14% — $17,430</li>
                <li>BND — 20% — $24,800</li>
                <li>IBIT — 4% — $4,996</li>
                <li>Cash — 6% — $7,474</li>
              </ul>
            </div>
          </main>
        </div>
      );

      const Sim = () => (
        <div className={\`\${container} py-6 grid grid-cols-1 md:grid-cols-[16rem_1fr] gap-6\`}>
          <Sidebar />
          <main className="space-y-4">
            <div className={card}>
              <h3 className="text-lg font-semibold">Scenario Simulator</h3>
              <p className="text-sm text-gray-600">Run active predictions with macro/micro signals and neural nets. Outputs: p(up ≥ X%), suggested trades, confidence.</p>
              <div className="grid grid-cols-1 md:grid-cols-3 gap-3 mt-3">
                <div>
                  <label className="text-sm font-medium">Projection Horizon</label>
                  <select className="mt-1 w-full rounded-xl border px-3 py-2">
                    <option>1 week</option>
                    <option>3 weeks</option>
                    <option>3 months</option>
                  </select>
                </div>
                <div>
                  <label className="text-sm font-medium">Risk Appetite</label>
                  <select className="mt-1 w-full rounded-xl border px-3 py-2">
                    <option>Conservative</option>
                    <option>Moderate</option>
                    <option>Aggressive</option>
                  </select>
                </div>
                <div>
                  <label className="text-sm font-medium">Budget</label>
                  <input className="mt-1 w-full rounded-xl border px-3 py-2" placeholder="$5,000" />
                </div>
              </div>
              <div className="mt-3 flex gap-2">
                <button className="rounded-lg border px-3 py-1 text-sm" onClick={() => alert("Running models…")}>Run Models</button>
                <button className="rounded-lg border px-3 py-1 text-sm" onClick={() => alert("Trade package prepared")}>Proceed</button>
              </div>
            </div>
            <div className={card}>
              <h3 className="text-lg font-semibold">Proposed Package (demo)</h3>
              <ul className="mt-2 text-sm text-gray-700 space-y-1">
                <li>Buy: SCHD — $2,000 — p(↑ ≥ 5% in 3w) = 0.63</li>
                <li>Buy: VXUS — $1,500 — p(↑ ≥ 4% in 3w) = 0.58</li>
                <li>Hedge: BTC with 10% trailing stop</li>
                <li>Sell: QQQ lot (TLH) — offset gains $420</li>
              </ul>
            </div>
          </main>
        </div>
      );

      const TaxRet = () => (
        <div className={\`\${container} py-6 grid grid-cols-1 md:grid-cols-[16rem_1fr] gap-6\`}>
          <Sidebar />
          <main className="space-y-4">
            <div className={card}>
              <h3 className="text-lg font-semibold">Tax Optimization</h3>
              <p className="text-sm text-gray-600">Automated tax-loss harvesting and asset location (demo).</p>
              <div className="mt-2 flex gap-2">
                <button className="rounded-lg border px-3 py-1 text-sm" onClick={() => alert("Scanning lots…")}>Scan Lots</button>
                <button className="rounded-lg border px-3 py-1 text-sm" onClick={() => alert("Swapping to correlated ETF (wash-sale safe)")}>Proceed</button>
              </div>
            </div>
            <div className={card}>
              <h3 className="text-lg font-semibold">Retirement Planner</hh3>
              <p className="text-sm text-gray-600">Roth/Traditional IRA, 401(k) projections and glide-path (demo).</p>
              <div className="grid grid-cols-1 md:grid-cols-3 gap-3 mt-3">
                <input className="rounded-xl border px-3 py-2" placeholder="Current age" />
                <input className="rounded-xl border px-3 py-2" placeholder="Retirement age" />
                <input className="rounded-xl border px-3 py-2" placeholder="Monthly contribution" />
              </div>
              <div className="mt-3">
                <button className="rounded-lg border px-3 py-1 text-sm" onClick={() => alert("Calculating glide-path…")}>Run Projection</button>
              </div>
            </div>
          </main>
        </div>
      );

      const AlertsPage = () => (
        <div className={\`\${container} py-6 grid grid-cols-1 md:grid-cols-[16rem_1fr] gap-6\`}>
          <Sidebar />
          <main className="space-y-4">
            <div className={card}>
              <h3 className="text-lg font-semibold">All Alerts</h3>
              <ul className="mt-2 list-disc pl-5 text-sm text-gray-700 space-y-1">
                {alerts.map((a) => <li key={a.id}>{a.text}</li>)}
              </ul>
            </div>
          </main>
        </div>
      );

      const Settings = () => (
        <div className={\`\${container} py-6 grid grid-cols-1 md:grid-cols-[16rem_1fr] gap-6\`}>
          <Sidebar />
          <main className="space-y-4">
            <div className={card}>
              <h3 className="text-lg font-semibold">Project Settings</h3>
              <div className="grid grid-cols-1 md:grid-cols-2 gap-3 mt-2">
                <div>
                  <label className="text-sm font-medium">App Name</label>
                  <input
                    className="mt-1 w-full rounded-xl border px-3 py-2"
                    value={projectName}
                    onChange={(e) => setProjectName(e.target.value)}
                  />
                </div>
                <div>
                  <label className="text-sm font-medium">Mode</label>
                  <select className="mt-1 w-full rounded-xl border px-3 py-2">
                    <option>Personal (local-first)</option>
                    <option>Team (cloud sync)</option>
                  </select>
                </div>
              </div>
              <div className="mt-3 flex gap-2">
                <button className="rounded-lg border px-3 py-1 text-sm" onClick={() => alert("Saved (demo)")}>Save</button>
                <button className="rounded-lg border px-3 py-1 text-sm" onClick={() => alert("Exported config (demo)")}>Export Config</button>
              </div>
            </div>
            <div className={card}>
              <h3 className="text-lg font-semibold">Data & Connectivity</h3>
              <ul className="mt-2 text-sm text-gray-700 space-y-1">
                <li>Local cache: enabled</li>
                <li>Morning batch (7:30 AM): ready</li>
                <li>API keys: placeholders set</li>
              </ul>
            </div>
          </main>
        </div>
      );

      const Routed = useMemo(() => {
        if (route === "login") return <Login />;
        return (
          <div className={theme === "dark" ? "dark" : ""}>
            <div className="min-h-screen bg-white text-gray-900">
              <Header />
              {route === "dashboard" && <Dashboard />}
              {route === "portfolio" && <Portfolio />}
              {route === "sim" && <Sim />}
              {route === "taxret" && <TaxRet />}
              {route === "alerts" && <AlertsPage />}
              {route === "settings" && <Settings />}
            </div>
          </div>
        );
      }, [route, theme, projectName, watchlist, alerts]);

      return Routed;
    }

    ReactDOM.createRoot(document.getElementById("root")).render(<ZenoApp />);
  </script>
</body>
</html>

